from pwn import *

context.log_level = 'debug'

data2={"Clarity":"50","Faerie Fire":"75","Enchanted Mango":"110","Tango":"125", "Tango (Shared)": "30","Healing Salve":"110","Smoke of Deceit":"50","Town Portal Scroll":"50","Dust of Appearance":"180","Animal Courier":"100","Flying Courier":"150","Observer Ward":"65","Sentry Ward":"100","Tome of Knowledge":"150","Bottle":"660","Iron Branch":"50","Gauntlets of Strength":"150","Slippers of Agility":"150","Mantle of Intelligence":"150","Circlet":"165","Belt of Strength":"450","Band of Elvenskin":"450","Robe of the Magi":"450","Ogre Club":"1000","Blade of Alacrity":"1000","Staff of Wizardry":"1000","Ring of Protection":"175","Stout Shield":"200","Quelling Blade":"200","Infused Raindrop":"225","Blight Stone":"300","Orb of Venom":"275","Blades of Attack":"420","Chainmail":"550","Quarterstaff":"875","Helm of Iron Will":"900","Broadsword":"1200","Claymore":"1400","Javelin":"1500","Mithril Hammer":"1600","Wind Lace":"250","Magic Stick":"200","Sage's Mask":"325","Ring of Regen":"325","Boots of Speed":"400","Gloves of Haste":"500","Cloak":"550","Ring of Health":"850","Void Stone":"850","Gem of True Sight":"900","Morbid Mask":"1200","Shadow Amulet":"1300","Ghost Scepter":"1500","Blink Dagger":"2250","Magic Wand":"465","Null Talisman":"470","Wraith Band":"485","Poor Man's Shield":"500","Bracer":"505","Soul Ring":"800","Phase Boots":"1240","Power Treads":"1350","Oblivion Staff":"1650","Perseverance":"1700","Hand of Midas":"2050","Boots of Travel":"2400","Moon Shard":"4000","Ring of Basilius":"500","Iron Talon":"500","Headdress":"575","Buckler":"800","Urn of Shadows":"875","Tranquil Boots":"900","Ring of Aquila":"985","Medallion of Courage":"1175","Arcane Boots":"1300","Drum of Endurance":"1780","Mekansm":"2275","Vladmir's Offering":"2275","Pipe of Insight":"3100","Guardian Greaves":"5275","Glimmer Cape":"1850","Force Staff":"2225","Veil of Discord":"2240","Aether Lens":"2350","Necronomicon":"2650","Dagon":"2720","Eul's Scepter of Divinity":"2750","Solar Crest":"2625","Rod of Atos":"3100","Orchid Malevolence":"4075","Aghanim's Scepter":"4200","Refresher Orb":"5200","Scythe of Vyse":"5650","Octarine Core":"5900","Crystalys":"2120","Armlet of Mordiggian":"2370","Shadow Blade":"2700","Skull Basher":"2700","Battle Fury":"4500","Ethereal Blade":"4700","Silver Edge":"5100","Radiance":"5150","Monkey King Bar":"5400","Daedalus":"5520","Butterfly":"5525","Divine Rapier":"6200","Abyssal Blade":"6400","Bloodthorn":"7195","Hood of Defiance":"1725","Vanguard":"2150","Blade Mail":"2200","Soul Booster":"3200","Crimson Guard":"3550","Black King Bar":"3975","Lotus Orb":"4000","Shiva's Guard":"4700","Bloodstone":"4900","Manta Style":"4950","Linken's Sphere":"4800","Hurricane Pike":"4375","Assault Cuirass":"5250","Heart of Tarrasque":"5500","Mask of Madness":"1900","Helm of the Dominator":"1800","Dragon Lance":"1900","Sange":"2050","Yasha":"2050","Echo Sabre":"2650","Maelstrom":"2800","Diffusal Blade":"3150","Desolator":"3500","Heaven's Halberd":"3500","Sange and Yasha":"4100","Eye of Skadi":"5675","Mjollnir":"5700","Satanic":"5800","Energy Booster":"900","Vitality Booster":"1100","Point Booster":"1200","Platemail":"1400","Talisman of Evasion":"1450","Hyperstone":"2000","Ultimate Orb":"2100","Demon Edge":"2400","Mystic Staff":"2700","Reaver":"3000","Eaglesong":"3200","Sacred Relic":"3800","Greater Clarity":"90","Greater Salve":"275","Slippers of Halcyon":"2075","Arcane Boots II":"2450","Flinching Firecrackers":"100","Firework Mine":"1000","Scare the Beast":"1500","Force Boots":"3650","Desolator 2":"8375","Vermillion Robe":"9750","River Vial: Chrome":"0","River Vial: Dry":"0","River Vial: Slime":"0","River Vial: Oil":"0","River Vial: Electrified":"0","River Vial: Potion":"0","River Vial: Blood":"0","Leather Tunic":"950","Shedd's Cleaver":"2650","The Leveller":"2120","Arcane Ring":"1700", "Observer and Sentry Wards": "165"}
recipe={"Null Talisman":"155","Wraith Band":"170","Bracer":"190","Soul Ring":"150","Hand of Midas":"1550","Boots of Travel":"2000","Iron Talon":"125","Headdress":"200","Buckler":"200","Urn of Shadows":"250","Drum of Endurance":"700","Mekansm":"900","Pipe of Insight":"800","Guardian Greaves":"1700","Force Staff":"900","Veil of Discord":"400","Aether Lens":"600","Necronomicon":"1200","Dagon":"1250","Eul's Scepter of Divinity":"650","Orchid Malevolence":"775","Refresher Orb":"1800","Crystalys":"500","Armlet of Mordiggian":"550","Skull Basher":"750","Silver Edge":"300","Radiance":"1350","Daedalus":"1000","Abyssal Blade":"1550","Bloodthorn":"1000","Crimson Guard":"600","Black King Bar":"1375","Shiva's Guard":"600","Bloodstone":"900","Manta Style":"800","Linken's Sphere":"1000","Hurricane Pike":"250","Assault Cuirass":"1300","Heart of Tarrasque":"1400","Mask of Madness":"700","Helm of the Dominator":"725","Yasha":"600","Maelstrom":"700","Diffusal Blade":"700","Mjollnir":"900", "Pipe of Insight": "800", "Sange": "600"}
unified={"Item Name":"Cost","Belt of Giant Strength":"450","Blade of Alacrity":"1000","Boots of Elvenskin":"450","Circlet of Nobility":"185","Gauntlets of Ogre Strength":"150","Ironwood Branch":"57","Mantle of Intelligence":"150","Ogre Axe":"1000","Robe of the Magi":"450","Slippers of Agility":"150","Staff of Wizardry":"1000","Ultimate Orb":"2100","Boots of Speed":"500","Gem of True Sight":"700","Gloves of Haste":"500","Kelen's Dagger":"2150","Mask of Death":"900","Planeswalker's Cloak":"400","Quelling Blade":"250","Recipe Magic Wand":"0","Recipe Poor Man's Shield":"0","Ring of Regeneration":"350","Sobi Mask":"325","Ancient Tango of Essifation":"90","Animal Courier":"225","Bottle":"600","Dust of Appearance":"180","Healing Salve":"100","Lesser Clarity Potion":"50","Magic Stick":"200","Observer Wards":"200","Scroll of Town Portal":"135","Sentry Wards":"200","Recipe Aegis of the Immortal":"0","Demon Edge":"2600","Eaglehorn":"3300","Energy Booster":"1000","Hyperstone":"2100","Messerschmidt's Reaver":"3200","Mystic Staff":"2700","Point Booster":"1200","Ring of Health":"875","Sacred Relic":"3800","Vitality Booster":"1100","Void Stone":"875","Blades of Attack":"500","Broadsword":"1200","Chainmail":"550","Claymore":"1400","Helm of Iron Will":"950","Javelin":"1400","Mithril Hammer":"1600","Plate Mail":"1400","Quarterstaff":"900","Ring of Protection":"175","Stout Shield":"250","Recipe Boots of Travel":"2200","Recipe Bracer":"175","Recipe Hand of Midas":"1400","Recipe Headdress of Rejuvenation":"200","Recipe Netherezim Buckler":"200","Recipe Null Talisman":"150","Recipe Oblivion Staff":"0","Recipe Perseverence":"0","Recipe Power Treads":"0","Recipe Ring of Basilius":"0","Recipe Wraith Band":"125","Recipe Blade Mail":"0","Recipe Cranium Basher":"1010","Recipe Diffusal Blade":"850","Recipe Eul's Scepter of Divinity":"800","Recipe Helm of the Dominator":"0","Recipe Maelstrom":"1400","Recipe Mask of Madness":"1000","Recipe Mekansm":"900","Recipe Soul Booster":"0","Recipe Yasha":"800","Recipe Battle Fury":"0","Recipe Black King Bar":"1300","Recipe Crystalys":"500","Recipe Dagon":"1350","Recipe Linken's Sphere":"1325","Recipe Lothar's Edge":"1100","Recipe Manta Style":"500","Recipe Necronomicon":"1300","Recipe Sange and Yasha":"0","Recipe Stygian Desolator":"1200","Recipe Aghanim's Scepter":"0","Recipe Buriza-do Kyanon":"1000","Recipe Divine Rapier":"0","Recipe Eye of Skadi":"0","Recipe Guinsoo's Scythe of Vyse":"0","Recipe Heart of Tarrasque":"1200","Recipe Monkey King Bar":"0","Recipe Radiance":"1350","Recipe Refresher Orb":"1875","Recipe Satanic":"0","Recipe The Butterfly":"0","Ghost Scepter":"1500","Recipe Arcane Ring":"525","Recipe Armlet of Mordiggian":"900","Recipe Assault Cuirass":"1500","Recipe Bloodstone":"0","Recipe Flying Courier":"200","Recipe Force Staff":"300","Recipe Hood of Defiance":"0","Recipe Khadgar's Pipe of Insight":"800","Recipe Mjollnir":"0","Recipe Orchid Malevolence":"0","Recipe Phase Boots":"0","Recipe Shiva's Guard":"600","Recipe Vanguard":"0","Recipe Vladmir's Offering":"300","Talisman of Evasion":"1800"}
internals={"<name>":"-createhero <name>","mana":"-refresh","Sentry Ward":"item_ward_sentry","Observer Ward":"item_ward_observer","Aegis of the Immortal":"item_aegis","Animal Courier":"item_courier","Band of Elvenskin":"item_boots_of_elves","Belt of Strength":"item_belt_of_strength","Blade of Alacrity":"item_blade_of_alacrity","Blades of Attack":"item_blades_of_attack","Blight Stone":"item_blight_stone","Blink Dagger":"item_blink","Boots of Speed":"item_boots","Bottle":"item_bottle","Broadsword":"item_broadsword","Chainmail":"item_chainmail","Cheese":"item_cheese","Circlet":"item_circlet","Clarity":"item_clarity","Claymore":"item_claymore","Cloak":"item_cloak","Demon Edge":"item_demon_edge","Dust of Appearance":"item_dust","Eaglesong":"item_eagle","Enchanted Mango":"item_enchanted_mango","Energy Booster":"item_energy_booster","Faerie Fire":"item_faerie_fire","Flying Courier":"item_flying_courier","Gauntlets of Strength":"item_gauntlets","Gem of True Sight":"item_gem","Ghost Scepter":"item_ghost","Gloves of Haste":"item_gloves","Healing Salve":"item_flask","Helm of Iron Will":"item_helm_of_iron_will","Hyperstone":"item_hyperstone","Infused Raindrop":"item_infused_raindrop","Iron Branch":"item_branches","Javelin":"item_javelin","Magic Stick":"item_magic_stick","Mantle of Intelligence":"item_mantle","Mithril Hammer":"item_mithril_hammer","Morbid Mask":"item_lifesteal","Mystic Staff":"item_mystic_staff","Ogre Club":"item_ogre_axe","Orb of Venom":"item_orb_of_venom","Platemail":"item_platemail","Point Booster":"item_point_booster","Quarterstaff":"item_quarterstaff","Quelling Blade":"item_quelling_blade","Reaver":"item_reaver","Ring of Health":"item_ring_of_health","Ring of Protection":"item_ring_of_protection","Ring of Regen":"item_ring_of_regen","Robe of the Magi":"item_robe","Sacred Relic":"item_relic","Sage's Mask":"item_sobi_mask","Shadow Amulet":"item_shadow_amulet","Slippers of Agility":"item_slippers","Smoke of Deceit":"item_smoke_of_deceit","Staff of Wizardry":"item_staff_of_wizardry","Stout Shield":"item_stout_shield","Talisman of Evasion":"item_talisman_of_evasion","Tango":"item_tango","Tango (Shared)":"item_tango_single","Tome of Knowledge":"item_tome_of_knowledge","Town Portal Scroll":"item_tpscroll","Ultimate Orb":"item_ultimate_orb","Vitality Booster":"item_vitality_booster","Void Stone":"item_void_stone","Wind Lace":"item_wind_lace","Abyssal Blade":"item_abyssal_blade","Aether Lens":"item_aether_lens","Aghanim's Scepter":"item_ultimate_scepter","Arcane Boots":"item_arcane_boots","Armlet of Mordiggian":"item_armlet","Assault Cuirass":"item_assault","Battle Fury":"item_bfury","Black King Bar":"item_black_king_bar","Blade Mail":"item_blade_mail","Bloodstone":"item_bloodstone","Bloodthorn":"item_bloodthorn","Boots of Travel":"item_travel_boots","Bracer":"item_bracer","Buckler":"item_buckler","Butterfly":"item_butterfly","Crimson Guard":"item_crimson_guard","Crystalys":"item_lesser_crit","Daedalus":"item_greater_crit","Dagon":"item_dagon","Desolator":"item_desolator","Diffusal Blade":"item_diffusal_blade","Dragon Lance":"item_dragon_lance","Drum of Endurance":"item_ancient_janggo","Echo Sabre":"item_echo_sabre","Ethereal Blade":"item_ethereal_blade","Eul's Scepter of Divinity":"item_cyclone","Eye of Skadi":"item_skadi","Force Staff":"item_force_staff","Glimmer Cape":"item_glimmer_cape","Guardian Greaves":"item_guardian_greaves","Hand of Midas":"item_hand_of_midas","Headdress":"item_headdress","Heart of Tarrasque":"item_heart","Heaven's Halberd":"item_heavens_halberd","Helm of the Dominator":"item_helm_of_the_dominator","Hood of Defiance":"item_hood_of_defiance","Hurricane Pike":"item_hurricane_pike","Iron Talon":"item_iron_talon","Linken's Sphere":"item_sphere","Lotus Orb":"item_lotus_orb","Maelstrom":"item_maelstrom","Magic Wand":"item_magic_wand","Manta Style":"item_manta",
"Mask of Madness":"item_mask_of_madness","Medallion of Courage":"item_medallion_of_courage","Mekansm":"item_mekansm","Mjollnir":"item_mjollnir","Monkey King Bar":"item_monkey_king_bar","Moon Shard":"item_moon_shard","Necronomicon":"item_necronomicon","Null Talisman":"item_null_talisman","Oblivion Staff":"item_oblivion_staff","Observer and Sentry Wards":"item_ward_dispenser","Octarine Core":"item_octarine_core","Orchid Malevolence":"item_orchid","Perseverance":"item_pers","Phase Boots":"item_phase_boots","Pipe of Insight":"item_pipe","Poor Man's Shield":"item_poor_mans_shield","Power Treads":"item_power_treads","Radiance":"item_radiance","Divine Rapier":"item_rapier","Refresher Orb":"item_refresher","Ring of Aquila":"item_ring_of_aquila","Ring of Basilius":"item_ring_of_basilius","Rod of Atos":"item_rod_of_atos","Sange":"item_sange","Sange and Yasha":"item_sange_and_yasha","Satanic":"item_satanic","Scythe of Vyse":"item_sheepstick",
"Shadow Blade":"item_invis_sword","Shiva's Guard":"item_shivas_guard","Silver Edge":"item_silver_edge","Skull Basher":"item_basher","Solar Crest":"item_solar_crest","Soul Booster":"item_soul_booster","Soul Ring":"item_soul_ring","Tranquil Boots":"item_tranquil_boots","Urn of Shadows":"item_urn_of_shadows","Vanguard":"item_vanguard","Veil of Discord":"item_veil_of_discord","Vladmir's Offering":"item_vladmir","Wraith Band":"item_wraith_band","Yasha":"item_yasha","Greevil Taffy":"item_halloween_candy_corn","Greevil Whistle":"item_greevil_whistle_toggle","Xmas Stocking":"item_winter_stocking","Speed Skates":"item_winter_skates","Fruit-bit Cake":"item_winter_cake","Wizard Cookie":"item_winter_cookie","Cocoa with Marshmallows":"item_winter_coco","Clove Studded Ham":"item_winter_ham","Kringle":"item_winter_kringle","Snow Mushroom":"item_winter_mushroom","Greevil Treat":"item_winter_greevil_treat","Greevil Chow":"item_winter_greevil_garbage","Greevil Blink Bone":"item_winter_grevil_chewy","Greater Clarity":"item_greater_clarity","Greater Salve":"item_greater_flask","Arcane Boots II":"item_arcane_boots_2","Slippers of Halcyon":"item_tranquil_boots_2","Flinching Firecrackers":"item_firecrackers","Firework Mine":"item_firework_mine","Scare the Beast":"item_scare_the_beast","Force Boots":"item_force_boots","Desolator 2":"item_desolator_2","Vermillion Robe":"item_vermillion_robe","River Vial: Chrome":"item_river_painter","River Vial: Dry":"item_river_painter2","River Vial: Slime":"item_river_painter3","River Vial: Oil":"item_river_painter4","River Vial: Electric":"item_river_painter5","River Vial: Potion":"item_river_painter6","River Vial: Blood":"item_river_painter7","Abaddon":"npc_dota_hero_abaddon","Alchemist":"npc_dota_hero_alchemist","Anti-Mage":"npc_dota_hero_antimage","Ancient Apparition":"npc_dota_hero_ancient_apparition","Arc Warden":"npc_dota_hero_arcwarden","Axe":"npc_dota_hero_axe","Bane":"npc_dota_hero_bane","Batrider":"npc_dota_hero_batrider","Beastmaster":"npc_dota_hero_beastmaster","Bloodseeker":"npc_dota_hero_bloodseeker","Bounty Hunter":"npc_dota_hero_bounty_hunter","Brewmaster":"npc_dota_hero_brewmaster","Bristleback":"npc_dota_hero_bristleback","Broodmother":"npc_dota_hero_broodmother","Centaur Warrunner":"npc_dota_hero_centaur","Chaos Knight":"npc_dota_hero_chaos_knight","Chen":"npc_dota_hero_chen","Clinkz":"npc_dota_hero_clinkz","Clockwerk":"npc_dota_hero_rattletrap","Crystal Maiden":"npc_dota_hero_crystal_maiden","Dark Seer":"npc_dota_hero_dark_seer","Dazzle":"npc_dota_hero_dazzle","Death Prophet":"npc_dota_hero_death_prophet","Disruptor":"npc_dota_hero_disruptor","Doom":"npc_dota_hero_doom_bringer","Dragon Knight":"npc_dota_hero_dragon_knight","Drow Ranger":"npc_dota_hero_drow_ranger","Earth Spirit":"npc_dota_hero_earth_spirit","Earthshaker":"npc_dota_hero_earthshaker","Elder Titan":"npc_dota_hero_elder_titan","Ember Spirit":"npc_dota_hero_ember_spirit","Enchantress":"npc_dota_hero_enchantress","Enigma":"npc_dota_hero_enigma","Faceless Void":"npc_dota_hero_faceless_void","Gyrocopter":"npc_dota_hero_gyrocopter","Huskar":"npc_dota_hero_huskar","Invoker":"npc_dota_hero_invoker","Io":"npc_dota_hero_wisp","Jakiro":"npc_dota_hero_jakiro","Juggernaut":"npc_dota_hero_juggernaut","Keeper of the Light":"npc_dota_hero_keeper_of_the_light","Kunkka":"npc_dota_hero_kunkka","Legion Commander":"npc_dota_hero_legion_commander","Leshrac":"npc_dota_hero_leshrac","Lich":"npc_dota_hero_lich","Lifestealer":"npc_dota_hero_life_stealer","Lina":"npc_dota_hero_lina","Lion":"npc_dota_hero_lion","Lone Druid":"npc_dota_hero_lone_druid","Luna":"npc_dota_hero_luna","Lycan":"npc_dota_hero_lycan","Magnus":"npc_dota_hero_magnataur","Medusa":"npc_dota_hero_medusa","Meepo":"npc_dota_hero_meepo","Mirana":"npc_dota_hero_mirana","Morphling":"npc_dota_hero_morphling","Monkey King":"npc_dota_hero_monkey_king","Naga Siren":"npc_dota_hero_naga_siren",
"Nature's Prophet":"npc_dota_hero_furion","Necrophos":"npc_dota_hero_necrolyte","Night Stalker":"npc_dota_hero_night_stalker","Nyx Assassin":"npc_dota_hero_nyx_assassin","Ogre Magi":"npc_dota_hero_ogre_magi","Omniknight":"npc_dota_hero_omniknight","Oracle":"npc_dota_hero_oracle","Outworld Devourer":"npc_dota_hero_obsidian_destroyer","Phantom Assassin":"npc_dota_hero_phantom_assassin","Phantom Lancer":"npc_dota_hero_phantom_lancer","Phoenix":"npc_dota_hero_phoenix","Puck":"npc_dota_hero_puck","Pudge":"npc_dota_hero_pudge","Pugna":"npc_dota_hero_pugna","Queen of Pain":"npc_dota_hero_queenofpain","Razor":"npc_dota_hero_razor","Riki":"npc_dota_hero_riki","Rubick":"npc_dota_hero_rubick","Sand King":"npc_dota_hero_sand_king","Shadow Demon":"npc_dota_hero_shadow_demon","Shadow Fiend":"npc_dota_hero_nevermore","Shadow Shaman":"npc_dota_hero_shadow_shaman","Silencer":"npc_dota_hero_silencer","Skywrath Mage":"npc_dota_hero_skywrath_mage",
"Slardar":"npc_dota_hero_slardar","Slark":"npc_dota_hero_slark","Sniper":"npc_dota_hero_sniper","Spectre":"npc_dota_hero_spectre","Spirit Breaker":"npc_dota_hero_spirit_breaker","Storm Spirit":"npc_dota_hero_storm_spirit","Sven":"npc_dota_hero_sven","Techies":"npc_dota_hero_techies","Templar Assassin":"npc_dota_hero_templar_assassin","Terrorblade":"npc_dota_hero_terrorblade","Tidehunter":"npc_dota_hero_tidehunter","Timbersaw":"npc_dota_hero_shredder","Tinker":"npc_dota_hero_tinker","Tiny":"npc_dota_hero_tiny","Treant Protector":"npc_dota_hero_treant","Troll Warlord":"npc_dota_hero_troll_warlord","Tusk":"npc_dota_hero_tusk","Underlord":"npc_dota_hero_abyssal_underlord","Undying":"npc_dota_hero_undying","Ursa":"npc_dota_hero_ursa","Vengeful Spirit":"npc_dota_hero_vengefulspirit","Venomancer":"npc_dota_hero_venomancer","Viper":"npc_dota_hero_viper","Visage":"npc_dota_hero_visage","Warlock":"npc_dota_hero_warlock","Weaver":"npc_dota_hero_weaver","Windranger":"npc_dota_hero_windrunner","Winter Wyvern":"npc_dota_hero_winter_wyvern","Witch Doctor":"npc_dota_hero_witch_doctor","Wraith King":"npc_dota_hero_skeleton_king","Zeus":"npc_dota_hero_zuus"}
r = remote('139.59.61.220', 6666)
while True:
	r.recvuntil('\nCan')
	d = r.recvuntil(' ?', drop=True)
	print d
	if 'internal name' in d:
		is_recipe = 'Recipe' in d
		if is_recipe:
			d = d.split(': ', 1)[1]
		else:
			d = d.split('of ', 1)[1]
		if d in internals:
			d = internals[d]
			if is_recipe:
				d = d.replace('item_', 'item_recipe_')
		else:
			d = d.lower()
			d = d.replace(' ', '_')
			if is_recipe:
				d = 'recipe_' + d
			else:
				d = 'item_' + d
		d = d.replace(':', '_')
	elif 'Recipe' in d:
		d = d.split(': ', 1)[1]
		print `d`
		if d in recipe:
			d = recipe[d]
		else:
			d = '0'
	else:
		d = d.split('of ', 1)[1]
		if d in data2:
			d = data2[d]
		elif d in unified:
			d = unified[d]
		else:
			d = '0'
	print `d`
	print d
	r.sendline(str(d))
r.interactive()